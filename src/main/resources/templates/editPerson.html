<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
<head>
<title>Hello World!</title>
</head>
<body>
	<form th:action="@{/person}" th:method="get">
		<button name="back" th:text="#{button.back}"></button>
	</form>
	<h2 th:text="#{header.editPerson}"></h2>
	<div style="width: 50%">
		<form th:action="@{/person/}+ ${person.id}" th:object="${person}"
			th:method="put">
			<div>
				<label th:text="#{user.username}"></label> <input type="text"
					name="name" th:value="${person.name}" />
			</div>
			<div>
				<input type="submit" th:value="#{button.edit}" />
			</div>
		</form>
		<table border="0">
			<tr th:each="address : ${person.addresses}">
				<td th:text="${address.country}" style="padding: 5px"></td>
				<td th:text="${address.postalCode}" style="padding: 5px"></td>
				<td th:text="${address.city}" style="padding: 5px"></td>
				<td th:text="${address.street}" style="padding: 5px"></td>
				<td th:text="${address.houseNo}" style="padding: 5px"></td>

				<td>
					<form
						th:action="@{/address(addressId=${address.id},personId=${person.id})}"
						th:method="delete" th:object="${address}">
						<button name="remove" th:text="#{button.remove}"></button>
					</form>
				</td>
			</tr>
		</table>


	</div>
	<div style="width: 50%">
		<form th:action="@{/address/}+ ${person.id}" th:object="${address}"
			th:method="post">
			<div>
				<label th:text="#{user.country}"></label> 
				<input type="text" name="country"/> 
				<label th:text="#{user.postalCode}"></label> 
				<input type="text" name="postalCode"/> 
				<label th:text="#{user.city}"></label> 
				<input type="text" name="city" /> 
				<label th:text="#{user.street}"></label> 
				<input type="text" name="street" /> 
				<label th:text="#{user.houseNo}"></label> 
				<input type="text" name="houseNo" />
			</div>
			<div>
				<input type="submit" th:value="#{button.addAddress}" />
			</div>

		</form>
	</div>
</body>
</html>